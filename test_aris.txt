const crud = require('../crud');
const User = require('../models').user;
const Wishlist = require('../models').wishlist;
const responses = require('../responses');
const CrudController = require('./crud.controller');

module.exports = new CrudController(User, {
  create: (req, res) => {
    return Wishlist.create({
      name: `${req.body.firstName}'s List`
    }).then((wishlist) => {
      req.body.wishlistId = wishlist.dataValues.id;
      return crud.create(User)(req, res);
    });